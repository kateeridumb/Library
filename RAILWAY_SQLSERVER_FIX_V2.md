# üîß –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: "dotnet could not be found"

## –ü—Ä–æ–±–ª–µ–º–∞
Railway –≤—Å—ë –µ—â—ë –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å `dotnet` –≤ SQL Server –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

## –†–µ—à–µ–Ω–∏–µ: –Ø–≤–Ω–æ —É–±—Ä–∞—Ç—å Start Command –≤ Railway

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Deploy –≤ Railway

1. –û—Ç–∫—Ä–æ–π —Å–µ—Ä–≤–∏—Å `sqlserver` –≤ Railway
2. –ü–µ—Ä–µ–π–¥–∏ –≤ **"Deploy"** (5-–π –ø—É–Ω–∫—Ç –º–µ–Ω—é —Å–ª–µ–≤–∞)
3. –ù–∞–π–¥–∏ –ø–æ–ª–µ **"Start Command"** –∏–ª–∏ **"Command"**
4. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** —É–±–µ–¥–∏—Å—å, —á—Ç–æ –æ–Ω–æ **–ü–£–°–¢–û–ï** (–Ω–µ `dotnet ...`, –Ω–µ `dotnet LibraryMPT.dll`)
5. –ï—Å–ª–∏ —Ç–∞–º —á—Ç–æ-—Ç–æ –µ—Å—Ç—å ‚Äî **–£–î–ê–õ–ò –í–°–Å** –∏ –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º
6. –°–æ—Ö—Ä–∞–Ω–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –®–∞–≥ 2: –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Dockerfile

1. –ü–µ—Ä–µ–π–¥–∏ –≤ **"Build"** (4-–π –ø—É–Ω–∫—Ç)
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Docker** (–Ω–µ Railpack/Nixpacks)
   - **Dockerfile Path**: `Dockerfile.sqlserver` –∏–ª–∏ `Dockerfile`

### –®–∞–≥ 3: –£–¥–∞–ª–∏ railway.json –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ SQL Server

–ü—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ —Ç–æ–º, —á—Ç–æ Railway —á–∏—Ç–∞–µ—Ç `railway.json` –∏–∑ –∫–æ—Ä–Ω—è.

**–í–∞—Ä–∏–∞–Ω—Ç A: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –¥–ª—è SQL Server**

1. –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π `railway.json` ‚Üí `railway.mvc.json`
2. –°–æ–∑–¥–∞–π –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª `railway.json` —Ç–æ–ª—å–∫–æ —Å Dockerfile –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:

```json
{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "DOCKERFILE",
    "dockerfilePath": "Dockerfile.sqlserver"
  }
}
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–ª—å–∫–æ –≤ Railway UI**

1. –£–¥–∞–ª–∏ `railway.json` –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π)
2. –ù–∞—Å—Ç—Ä–æ–π –≤—Å—ë —á–µ—Ä–µ–∑ Railway UI:
   - Build ‚Üí Dockerfile Path: `Dockerfile.sqlserver`
   - Deploy ‚Üí Start Command: **–ü–£–°–¢–û**

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å Variables

–£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤ **Variables** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- `SA_PASSWORD` = —Ç–≤–æ–π –ø–∞—Ä–æ–ª—å
- `MSSQL_PID` = `Express`
- `ACCEPT_EULA` = `Y`

### –®–∞–≥ 5: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –¥–µ–ø–ª–æ–π

1. –í Railway –Ω–∞–∂–º–∏ **"Redeploy"** –∏–ª–∏ **"Deploy"**
2. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ ‚Äî –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
   ```
   => [runtime] CMD ["/opt/mssql/bin/sqlservr"]
   ```
   –ê –ù–ï:
   ```
   dotnet LibraryMPT.dll
   ```

## –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑

–í–º–µ—Å—Ç–æ —Å–±–æ—Ä–∫–∏ —á–µ—Ä–µ–∑ Dockerfile, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑ –Ω–∞–ø—Ä—è–º—É—é:

1. –í Railway –¥–ª—è SQL Server —Å–µ—Ä–≤–∏—Å–∞:
   - **Build** ‚Üí **Dockerfile Path**: –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º
   - **Deploy** ‚Üí **Start Command**: –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º
   - **Variables** ‚Üí –¥–æ–±–∞–≤—å:
     - `RAILWAY_DOCKERFILE`: `Dockerfile.sqlserver`
     - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π **"Use Docker Image"** –≤–º–µ—Å—Ç–æ Dockerfile

### –ò–ª–∏: –°–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Dockerfile

–°–æ–∑–¥–∞–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π `Dockerfile.sqlserver`:

```dockerfile
FROM mcr.microsoft.com/mssql/server:2022-latest

ENV ACCEPT_EULA=Y
ENV SA_PASSWORD=${SA_PASSWORD}
ENV MSSQL_PID=Express

EXPOSE 1433

CMD ["/opt/mssql/bin/sqlservr"]
```

–ë–µ–∑ healthcheck, –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∫–æ–º–∞–Ω–¥.

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ

‚úÖ **Start Command –≤ Railway –î–û–õ–ñ–ï–ù –ë–´–¢–¨ –ü–£–°–¢–´–ú**  
‚úÖ **Dockerfile.sqlserver –ù–ï –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å `dotnet`**  
‚úÖ **railway.json –ù–ï –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è SQL Server**

